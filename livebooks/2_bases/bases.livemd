<!-- livebook:{"file_entries":[{"name":"PT_selon_TM.png","type":"attachment"}],"persist_outputs":true} -->

# Les concepts de base

## 1. INTRODUCTION

Avant de nous plonger dans les repr√©sentations des r√©seaux, de la multimodalit√© ou de l'accessibilit√©, posons les bases.

### 1.1. Pourquoi cette partie ?

Pour

üìå Partager le m√™me vocabulaire et √™tre pr√©cis dans son usage

üìå D√©mystifier la normalisation

### 1.2. Ce que vous allez apprendre

‚úÖ Quelques d√©finitions g√©n√©rales

‚úÖ Concepts de base utilis√©s dans les parties suivantes

<br />

üí° Bon √† savoir : Aucun pr√©requis technique n‚Äôest n√©cessaire.

## 2. MOD√àLES DE DONN√âES, NORMES ET PROFILS

### 2.1. Mod√®le de donn√©es

D√©finition : un mod√®le abstrait **d√©finissant des concepts et leurs attributs**, ainsi que les relations entre chaque concept. Le tout permet de s‚Äôaccorder sur une **r√©f√©rence commune** avant d‚Äô√©changer des informations (= des donn√©es)

<details class="rounded-lg my-4">
  <summary class="cursor-pointer font-bold p-4"></i>En bref</summary>
  <div class="p-4">

Cela repr√©sente :
* Des d√©finitions de concepts
* Des √©l√©ments de caract√©risation des concepts
* Des relations entre les concepts

C'est utile pour :
* S'accorder sur des concepts et leur description
* Utiliser le m√™me vocabulaire pour des impl√©mentations diff√©rentes

  </div>
</details>

Dans notre cas : [Transmodel](https://transmodel-cen.eu/)

Exemple :

<!-- livebook:{"break_markdown":true} -->

```mermaid
classDiagram
  direction LR
    ORGANISATION *-- ORGANISATION_SECTION : est compos√© de 
    ORGANISATION_SECTION <|-- EQUIPE
    ORGANISATION_SECTION <|-- DEPARTEMENT
    DEPARTEMENT  --> TYPE_D_OPERATION : caract√©ris√© par
    DEPARTEMENT *-- EQUIPE : comprend

    ORGANISATION : +Id
    ORGANISATION : +Nom
    ORGANISATION : +NomCommercial
    ORGANISATION : +Statut

    ORGANISATION_SECTION : +Id
    ORGANISATION_SECTION : +Nom
    ORGANISATION_SECTION : +NomCourt

    DEPARTEMENT : +Id
    DEPARTEMENT : +Nom

    EQUIPE : +Id

    TYPE_D_OPERATION : +Id

```

ü´µ Exercice pratique

Dans le mod√®le conceptuel de donn√©es ci-dessous,

* Combien avons-nous de concepts ?
* Combien d'attributs avons-nous dans le concept 'ORGANISATION' ?
* Quel est le concept portant la granularit√© la plus fine ?

### 2.2. Normes

D√©finition : **document √©tabli par consensus et approuv√© par un organisme de normalisation reconnu** (ex. AFNOR, CEN, ISO), qui fournit, pour des usages communs et r√©p√©t√©s, des r√®gles, des lignes directrices ou des caract√©ristiques, pour des activit√©s ou leurs r√©sultats, garantissant un niveau d'ordre optimal dans un contexte donn√©.

<details class="rounded-lg my-4">
  <summary class="cursor-pointer font-bold p-4"></i>En bref</summary>
  <div class="p-4">

Cela repr√©sente :

* Des r√®gles m√©tier d'usage des concepts d√©finis dans le mod√®le conceptuel de donn√©es
* Des r√®gles sur l'√©change des donn√©es
* Des choix pr√©d√©finis sur la pr√©sence obligatoire ou non de certains concepts et attributs
* Les valeurs permises pour certains attributs

C'est utile pour :

* Favoriser la standardisation des √©changes de donn√©es
* Garantir un certain niveau de qualit√© des donn√©es √©chang√©es

  </div>
</details>

Dans notre cas : [NeTEx](https://netex-cen.eu/) et [SIRI](https://siri-cen.eu/)

Norme vs standard : la seule diff√©rence est dans la gouvernance !

<br />

Une norme est d√©finie par un organisme de normalisation (ex. AFNOR, ISO). Un standard est d√©fini par un groupe d'acteur qui n'est pas un organisme de normalisation (ex. W3C, Unicode)

Exemple :

<!-- livebook:{"break_markdown":true} -->

```mermaid
classDiagram
  direction LR
    ORGANISATION *-- ORGANISATION_SECTION : est compos√© de 
    ORGANISATION_SECTION <|-- EQUIPE
    ORGANISATION_SECTION <|-- DEPARTEMENT
    DEPARTEMENT  --> TYPE_D_OPERATION : caracteris√© par
    DEPARTEMENT *-- EQUIPE : comprend

    ORGANISATION : -Id
    ORGANISATION : +Nom, MultilingualString [0..1]
    ORGANISATION : +NomCommercial, MultilingualString [0..1]
    ORGANISATION : +Statut, Boolean [0..1]

    ORGANISATION_SECTION : -Id
    ORGANISATION_SECTION : +Nom, MultilingualString [0..1]
    ORGANISATION_SECTION : +NomCourt, MultilingualString [0..1]
    ORGANISATION_SECTION : #OrganisationRef

    DEPARTEMENT : -Id
    DEPARTEMENT : +Nom, MultilingualString
    DEPARTEMENT : -equipes, EQUIPE [0..*]

    EQUIPE : -Id
    EQUIPE : #DepartmentRef

    TYPE_D_OPERATION : -Id

```

ü´µ Exercice pratique

Nommez au moins une diff√©rence avec le mod√®le conceptuel de donn√©es pr√©sent√© plus haut.

### 2.3. Profils de norme

D√©finition : **sous-ensemble d√©fini √† partir d‚Äôune norme** ou d‚Äôun standard qui peut comporter des r√®gles sp√©cifiques.

<details class="rounded-lg my-4">
  <summary class="cursor-pointer font-bold p-4"></i>En bref</summary>
  <div class="p-4">

Cela repr√©sente :

* Une vue r√©duite d'une norme ou d'un standard existant
* Des r√®gles m√©tier ou d'√©changes de donn√©es partag√©es par un groupe d'acteurs.

C'est utile pour :

* Favoriser l'usage d'une norme tr√®s riche
* Soutenir les √©changes entre un certain type d'acteurs (ex. travaillant dans une m√™me r√©gion, fournissant des donn√©es √† un m√™me commanditaire)

  </div>
</details>

Dans notre cas : le [profil France de NeTEx](https://normes.transport.data.gouv.fr/normes/netex/)

Exemple :

<!-- livebook:{"break_markdown":true} -->

```mermaid
classDiagram
  direction LR
    ORGANISATION *-- ORGANISATION_SECTION : est compos√© de 
    ORGANISATION_SECTION <|-- EQUIPE
    ORGANISATION_SECTION <|-- DEPARTEMENT
    DEPARTEMENT  --> TYPE_D_OPERATION : caract√©ris√© par
    DEPARTEMENT *-- EQUIPE : comprend

    ORGANISATION : -Id
    ORGANISATION : +Nom, MultilingualString [1..1]
    ORGANISATION : +NomCommercial, MultilingualString [1..1]
    ORGANISATION : +Statut, Boolean [1..1]

    ORGANISATION_SECTION : -Id
    ORGANISATION_SECTION : +Nom, MultilingualString [0..1]
    ORGANISATION_SECTION : +NomCourt, MultilingualString [0..1]
    ORGANISATION_SECTION : #OrganisationRef

    DEPARTEMENT : -Id
    DEPARTEMENT : +Nom, MultilingualString
    DEPARTEMENT : -equipes, EQUIPE [0..*]

    EQUIPE : -Id
    EQUIPE : #DepartmentRef

    TYPE_D_OPERATION : -Id

```

ü´µ Exercice pratique

Nommez au moins une diff√©rence avec l'extrait de la norme pr√©sent√©e plus haut.

## 3. LES BASES POUR COMPRENDRE TRANSMODEL ET NETEX

### 3.1. Le transport public

Dans Transmodel et toutes les normes qui en sont d√©riv√©es, le **Transport public** est tout service de transport promu et disponible √† l'ensemble des usagers, quel que soit son mode d'op√©ration. √Ä noter, Transmodel ne r√©duit pas la d√©finition du transport public √† l'existence ou non de conditions d'acc√®s aux services de transport.
![PT](files/PT_selon_TM.png) _¬© CEN, TC278, WG3, SG4 (CC-BY-SA)_

√Ä retenir :

* p√©rim√®tre plus large que les simples 'transports en communs'
* richesse des concepts et des attributs pour mod√©liser toutes les r√©alit√©s du transport public

### 3.2. Transmodel, NeTEx et SIRI

Rappel :

* Transmodel est le mod√®le conceptuel de donn√©es
* NeTEx et SIRI sont des formats d'√©changes normalis√©s issus de Transmodel

Concr√®tement :

* Les concepts utilis√©s dans NeTEx et SIRI sont d√©finis dans Transmodel
* Chaque concept (ou entit√©) a un identifiant qui permet de le r√©f√©rencer ailleurs (Id <> Ref)
* NeTEx et SIRI portent une vue de Transmodel qui r√©pond √† leur p√©rim√®tre fonctionnel

NeTEx = **Ne**twork **T**imetable **Ex**change

<br />

Pour toutes les donn√©es th√©oriques (= planifi√©es, connues d'avance) d√©crivant une offre de transport public allant de la description topologique du r√©seau √† son offre tarifaire en passant par ses √©l√©ments d'accessibilit√©.

SIRI = **S**ervice **I**nterface for **R**eal-time **I**nformation

<br />

Pour toutes les donn√©es en temps r√©el (= dynamiques, non connues d'avance) d√©crivant l'√©tat d'une offre de transport public √† un instant T allant de la position des v√©hicules √† l'√©tat de fonctionnement des ascenseurs en passant par les taux d'affluence.

### 3.3. Les profils France de NeTEx et SIRI

Rappel : un profil permet de faciliter une impl√©mentation locale d'une norme

En France, nous avons :

* un profil France pour NeTEx
* un profil France pour SIRI

Le profil France de NeTEx comporte plusieurs parties :

* [√âl√©ments communs](https://normes.transport.data.gouv.fr/normes/netex/elements_communs/)
* [Description des r√©seaux](https://normes.transport.data.gouv.fr/normes/netex/reseaux/)
* [Description des arr√™ts](https://normes.transport.data.gouv.fr/normes/netex/arrets/)
* [Horaires](https://normes.transport.data.gouv.fr/normes/netex/horaires/)
* [Tarifs](https://normes.transport.data.gouv.fr/normes/netex/tarifs/)
* [Accessibilit√©](https://normes.transport.data.gouv.fr/normes/netex/accessibilite/)
* [Parking](https://normes.transport.data.gouv.fr/normes/netex/parkings/)

Ce qu'il faut retenir : c'est l'ensemble de ces parties qui forment le profil France. On ne peut pas travailler sur la partie accessibilit√© sans tenir compte de la partie descriptive des arr√™ts, par exemple.

### 3.4. Quelques concepts de base

Pour faciliter la prise en main des concepts de base, il a √©t√© d√©cid√© de privil√©gier les traductions fran√ßaises des concepts contenus dans NeTEx (Transmodel). Les noms d'origine en anglais sont not√©s entre parenth√®ses et en _italique_.

Pour d√©crire spacialement ce qui nous entoure :

* POINT (_POINT_) : Un n≈ìud de dimension 0 servant √† la description spatiale du r√©seau.
* TRONCON (_LINK_) : Un objet d√©fini dans l‚Äôespace, orient√© et de dimension 1, utilis√© pour d√©crire la structure du r√©seau, d√©finissant la connexion entre deux POINTs.

Un POINT comprend les attributs obligatoires suivants :

* Nom (_Name_) : le nom du POINT
* Localisation (_Location_) : localisation du point

Dans Localisation (_Location_), on retrouve notamment les attributs suivants :

* Longitude
* Latitude

Cette imbrication est permise par l'usage du XML comme langage informatique gr√¢ce √† l'imbrication de balises :

```xml
<Point>
  <Name> Exemple de point</Name>
  <Location>
    <Longitude>-0.37315428391</Longitude>
    <Latitude>49.21139117869</Latitude>
  </Location>
</Point>
```

Pour d√©crire finement une station de m√©tro, par exemple, on utilisera les concepts suivants :

* LIEU D'ARR√äT (_STOP PLACE_) : Lieu comprenant un ou plusieurs emplacements o√π les v√©hicules peuvent s‚Äôarr√™ter et o√π les voyageurs peuvent monter √† bord ou descendre des v√©hicules ou pr√©parer leur d√©placement.
* ACC√àS DE LIEU D‚ÄôARR√äT (_STOP PLACE ENTRANCE_) : Un ACC√àS DE LIEU D‚ÄôARR√äT est un acc√®s physique √† un LIEU D‚ÄôARR√äT (entr√©e ou sortie). Il peut comporter une porte, une barri√®re, un portillon ou tout autre signe distinctif d‚Äôun acc√®s.
* ZONE D‚ÄôEMBARQUEMENT (_QUAY_) : Lieu tel qu‚Äôune plateforme, zone, quai ou voie √† quai o√π les voyageurs peuvent acc√©der aux v√©hicules de transport public, taxis, cars ou tout autre mode de transport.

De la m√™me mani√®re que pour les points, on pourra imbriquer plusieurs attributs descriptifs pour chaque concept.

<!-- livebook:{"break_markdown":true} -->

<div class="flex items-center w-full flex-start justify-between rounded-xl p-4" style="background-color: #f0f5f9; color: #61758a;">
<div class="flex">
<i class="ri-arrow-left-fill"></i>
<a class="flex ml-2" style="color: #61758a;" href="../1_intro/intro.livemd">Introduction</a>
</div>
<div class="flex">
<i class="ri-home-fill"></i>
<a class="flex ml-2" style="color: #61758a;">Les bases</a>
</div>
<div class="flex">
<a class="flex mr-2" style="color: #61758a;" href="../3_reseau/reseau_rochefort.livemd">Lignes et Horaires - Rochefort</a>
<i class="ri-arrow-right-fill"></i>
</div>
</div>

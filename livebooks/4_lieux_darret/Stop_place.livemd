<!-- livebook:{"file_entries":[{"name":"Agglo.JPG","type":"attachment"},{"name":"AggloRouen.jpeg","type":"attachment"},{"name":"Alt_LA_MultiModal.JPG","type":"attachment"},{"name":"AvecTrous.JPG","type":"attachment"},{"name":"Bus.jpeg","type":"attachment"},{"name":"Capture.JPG","type":"attachment"},{"name":"ChargementFichier1.JPG","type":"attachment"},{"name":"ChargementFichier2.JPG","type":"attachment"},{"name":"ChargementFichier3.JPG","type":"attachment"},{"name":"Existant.JPG","type":"attachment"},{"name":"Exo1.2.JPG","type":"attachment"},{"name":"GareRoutiere.JPG","type":"attachment"},{"name":"GrpLien.JPG","type":"attachment"},{"name":"GrpLien2.JPG","type":"attachment"},{"name":"GrpLienManquant.JPG","type":"attachment"},{"name":"GrpMode.JPG","type":"attachment"},{"name":"LA_MonomodalBus.JPG","type":"attachment"},{"name":"LA_MultiQuais.JPG","type":"attachment"},{"name":"Legende.JPG","type":"attachment"},{"name":"LienVersTopologieSSP.JPG","type":"attachment"},{"name":"MRS1.JPG","type":"attachment"},{"name":"MRS2.JPG","type":"attachment"},{"name":"ModesTransport.JPG","type":"attachment"},{"name":"MultiModal_PoleMono.JPG","type":"attachment"},{"name":"OrgaLAProfilNeTEx.JPG","type":"attachment"},{"name":"RTM1.JPG","type":"attachment"},{"name":"RTM4.JPG","type":"attachment"},{"name":"RTMmetro.JPG","type":"attachment"},{"name":"RTMpoleMetro.JPG","type":"attachment"},{"name":"RepLA.JPG","type":"attachment"},{"name":"Reponse.JPG","type":"attachment"},{"name":"ReseauAstuce.txt","type":"attachment"},{"name":"TdA1.JPG","type":"attachment"},{"name":"TdA2.JPG","type":"attachment"},{"name":"Toutmodes.JPG","type":"attachment"},{"name":"Tram.JPG","type":"attachment"},{"name":"lacOMPLEXE.JPG","type":"attachment"}]} -->

# Lieux_Arret

```elixir
Mix.install([
  {:kino, "~> 0.15.3"}
])
Code.compile_file("../../lib/kino_tooling.ex", __DIR__)
:ok
 
```

## CONTENU DE LA SECTION

### ğŸ”¹ Introduction

PrÃ©sentation du contenu, de la demarche et des objectifs.

### ğŸ”¹ La multimodalitÃ©

PrÃ©sentation de ce qu'est la multimodalitÃ© et de son application Ã  cette session.

### ğŸ”¹ Cas pratique

Sur la base d'un fichier NeTEx d'arrÃªt nous allons l'analyser et le reconstruire Ã  partir de ses donnÃ©es.

Des axes d'amÃ©lioration de sa reprÃ©sentativitÃ© "Multimodale" seront explorÃ©s.

### ğŸ”¹ Illustration d'une vision exploitant

PrÃ©sentation de la reprÃ©sentation d'un pÃ´le multimodal, vu des exploitants, construit Ã  partir de donnÃ©es Transmodel / NeTEx.

## I. INTRODUCTION

Bienvenue dans cette partie de la formation dÃ©diÃ©e Ã  lâ€™interprÃ©tation des fichiers NeTEx dÃ©crivant des **lieux dâ€™arrÃªt** dans le domaine du transport public. Cette session est conÃ§ue pour les dÃ©butants souhaitant comprendre la structure et le contenu des fichiers NeTEx (Network Timetable Exchange) et apprendre Ã  extraire, analyser et exploiter les informations relatives aux lieux d'arrÃªt `STOP PLACE`).

## 1.1 Pourquoi cette partie ?

Avec la digitalisation des systÃ¨mes de transport, le standard NeTEx est devenu un format clÃ© pour lâ€™Ã©change et lâ€™exploitation des donnÃ©es de transport public en Europe. Il permet de structurer de maniÃ¨re cohÃ©rente les informations sur les arrÃªts de bus, gares ferroviaires, stations de mÃ©tro et pÃ´les dâ€™Ã©change multimodaux.

Pour bien utiliser ces fichiers, il est essentiel de savoir :

âœ… Lire et comprendre la structure XML des fichiers NeTEx.

âœ… Identifier les Ã©lÃ©ments essentiels dÃ©crivant un lieu dâ€™arrÃªt.

âœ… InterprÃ©ter les relations entre ces Ã©lÃ©ments (hiÃ©rarchie, accessibilitÃ©, connexions).

âœ… Extraire les bonnes informations pour leur intÃ©gration dans dâ€™autres systÃ¨mes (SystÃ¨mes dâ€™Information Voyageurs, outils SIG, planificateurs dâ€™itinÃ©raires).

> RAPPEL : NeTEx repose sur le pilier qu'est TRANSMODEL.

## 1.2 Ce que vous allez apprendre

Au fil de cette formation, nous allons explorer :

ğŸ“Œ Les bases du format NeTEx et son utilisation dans la modÃ©lisation des arrÃªts

ğŸ“Œ Les principaux Ã©lÃ©ments XML dÃ©crivant un lieu d'arrÃªt (`STOPPLACE`, `ENTRANCE`, `QUAY`)

ğŸ“Œ Comment lire un fichier NeTEx et en extraire des informations utiles

ğŸ“Œ Comment interprÃ©ter les relations spatiales et fonctionnelles entre arrÃªts

ğŸ“Œ Les bonnes pratiques pour exploiter efficacement ces fichiers

## 1.3 La dÃ©marche pour cette partie

ğŸ“Œ Identifier un lieu d'arrÃªt multimodal reprÃ©sentatif

ğŸ“Œ DÃ©crire la rÃ©alitÃ© (Physique, Cartographique, Plan de Lignes)

ğŸ“Œ Identifier le Fichier NeTEx sur le PAN

ğŸ“Œ Recontituer le Lieu d'arrÃªt dÃ©crit par le fichier NeTEx

ğŸ“Œ Comparaison avec la rÃ©alitÃ©

ğŸ“Œ Identifier des axes d'amÃ©lioration

## 1.4 DÃ©roulement de la formation

Nous commencerons par une introduction thÃ©orique aux concepts NeTEx relatifs aux lieux d'arrÃªt, suivi de l'Ã©tude d'un cas pratique et dâ€™exercices dâ€™analyse de fichiers rÃ©els.

Ã€ la fin de cette partie, vous serez en mesure de lire, comprendre les principes de strucuration des fichiers NeTEx comprenant la description de Lieux d'arrÃªt pour des usages concrets.

<!-- livebook:{"break_markdown":true} -->

ğŸ’¡ **Bon Ã  savoir** : Aucun prÃ©requis technique avancÃ© nâ€™est nÃ©cessaire, mais une familiaritÃ© avec les donnÃ©es de transport ou les formats XML sera un plus.

ğŸš€ PrÃªt Ã  plonger dans lâ€™univers de NeTEx ? Alors, commenÃ§ons !

## II. LA MULTIMODALITÃ‰ (niveau des lieux d'arrÃªt)

## 2.1. Qu'est que la multimodalitÃ© ?

Dans le cadre de cette session nous utiliserons le terme **"Multimodal"** pour dÃ©signer la prÃ©sence de diffÃ©rents modes de transports entre deux lieux.

* La multimodalitÃ© dÃ©signe lâ€™utilisation de transports diffÃ©rents pour aller dâ€™un point A Ã  un point B comme par exemple le train et le bus.

Cela peut inclure des modes tels que la voiture, le train, le vÃ©lo, le bus, le mÃ©tro, et mÃªme la marche. L'objectif est de tirer parti des avantages spÃ©cifiques de chaque mode pour optimiser les trajets en termes de temps, coÃ»t, confort ou impact environnemental.

> **Limitation de la formation** : Dans le cadre de cette formation nous allons nous attacher Ã  dÃ©cliner ce concept complexe sur l'une des briques qui permet de mettre en oeuvre la multimodalitÃ© : **La description des lieux d'arrÃªt**.

ğŸ’¡ **Pourquoi des lieux d'arrÃªt multimodaux** ?

Les lieux dâ€™arrÃªt multimodaux sont des espaces conÃ§us pour faciliter lâ€™interconnexion entre plusieurs modes de transport (bus, train, vÃ©lo, voiture, tramway). Leur mise en place rÃ©pond Ã  plusieurs enjeux liÃ©s Ã  la mobilitÃ©, lâ€™accessibilitÃ© et lâ€™efficacitÃ© des transports en permettant :

* De faciliter lâ€™interconnexion des transports

  Ces lieux permettent aux voyageurs de passer facilement dâ€™un mode de transport Ã  un autre (exemple : descendre dâ€™un train et prendre un bus sans difficultÃ©). Ils contribuent Ã  optimiser le temps de trajet et rÃ©duisent les interruptions.

* AmÃ©liorer lâ€™accessibilitÃ© et lâ€™inclusivitÃ©

  Ils permettent aux personnes Ã  mobilitÃ© rÃ©duite dâ€™accÃ©der plus facilement aux diffÃ©rents moyens de transport.

  Les infrastructures (ascenseurs, rampes, signalisation) sont souvent adaptÃ©es pour un meilleur confort des usagers.

> Le vocabulaire distingue la multimodalitÃ© de l'**intermodalitÃ©**.
> Lâ€™intermodalitÃ© se dÃ©finie comme lâ€™utilisation dâ€™au moins deux modes de transports sur un mÃªme dÃ©placement. Câ€™est un terme qui est utilisÃ© dans la gÃ©ographie des transports et des mobilitÃ©s.

## 2.2 Approche du Profil France de NeTEx - Partie ArrÃªts

La partie ArrÃªts du profil France de NeTEx France dÃ©crit une organisation hiÃ©rarchique des lieux d'arrÃªt.

* https://normes.transport.data.gouv.fr/normes/netex/arrets/

Cette partie du profil spÃ©cifie un Â« ModÃ¨le dâ€™arrÃªt partagÃ© Â» franÃ§ais sous la forme dâ€™un modÃ¨le conceptuel de donnÃ©es basÃ© sur le concept LIEU Dâ€™ARRÃŠT `STOPPLACE`et les concepts liÃ©s.

Ce modÃ¨le dÃ©finit des regroupements gÃ©nÃ©riques de ces objets relativement simples : il sâ€™agit en particulier de LIEU Dâ€™ARRÃŠT MULTIMODAL, PÃ”LE MONOMODAL, et GROUPE DE
LIEUX Dâ€™ARRÃŠT qui sont des concepts intuitifs sur le terrain.

Le profil France est un guide pour le choix des attribus optionnels Ã  implÃ©menter.

<!-- livebook:{"break_markdown":true} -->

![](files/OrgaLAProfilNeTEx.JPG)

<!-- livebook:{"break_markdown":true} -->

Les dÃ©finitions des Ã©lÃ©ments constituant cette organisation sont les suivantes :

ğŸ”¹ **Zone d'Embarquement** (`QUAY`) :

Lieu tel quâ€™une plateforme, zone ou quai oÃ¹ les voyageurs peuvent accÃ©der aux vÃ©hicules de transport public, taxis, cars ou tout autre mode de transport.

ğŸ”¹  **Lieu dâ€™arret monomodal** (`STOP PLACE`) :

LIEU comprenant un ou plusieurs emplacements oÃ¹ les vÃ©hicules peuvent sâ€™arrÃªter et oÃ¹ les voyageurs peuvent monter Ã  bord ou descendre des vÃ©hicules ou prÃ©parer leur dÃ©placement.

Ce type de lieu ne contiendra que des possibilitÃ©s dâ€™accÃ¨s Ã  des vÃ©hicules dâ€™un mÃªme mode (le mode desservi sera donc lâ€™un de ses attributs). Il correspond Ã  ce qui est souvent appelÃ© arrÃªt commercial (mais les vocabulaires varientâ€¦)

ğŸ”¹  **Pole monomodal** (`STOP PLACE`) :

Le PÃ´le Monomodal correspond Ã  une spÃ©cialisation de la notion normalisÃ©e IFOPT de LIEU D'ARRÃŠT (`STOP PLACE` en anglais) : un PÃ´le Monomodal nâ€™est composÃ© que de LIEUx Dâ€™ARRÃŠT Monomodaux de modes identiques mais de nom diffÃ©rent.

ğŸ”¹ **Lieu dâ€™arrÃªt multimodal** (`STOP PLACE`) :

LIEU Dâ€™ARRÃŠT Multimodal nâ€™est composÃ© que de LIEUx Dâ€™ARRÃŠT Monomodaux et PÃ´les Monomodaux de modes diffÃ©rents.

ğŸ”¹ **Groupe de Lieux** :

C'est un ensemble de LIEUX Dâ€™ARRÃŠT monomodaux, de LIEUX Dâ€™ARRÃŠT multimodaux ou de PÃ´les monomodaux regroupÃ©s pour Ãªtre dÃ©signÃ©s dâ€™un nom unique. On lâ€™utilisera principalement pour regrouper les arrÃªts principaux dâ€™une ville, ou grouper les arrÃªts autour dâ€™un lieu tel quâ€™un aÃ©roport.

## 2.3. Les notions NeTEx associÃ©es

ğŸ”¹  **DÃ©finitions**

<!-- livebook:{"break_markdown":true} -->

Nous allons voir dans cette section les Ã©lÃ©ments Transmodel transmis via NeTEx qui permettent de dÃ©finir un lieu d'arrÃªt.

Transmodel dÃ©finit les concepts suivants pour la dÃ©finition des lieux d'arrÃªts. Cette structure peut s'imbriquer.

**Ã€ NOTER** :

1- Dans le principe  concept Transmodel = Une balise XML NeTEx

2- Transmodel ne definit pas les attributs

3- Transmodel intÃ¨gre depuis sa version 6.0 la norme **IFOPT** de description des lieux d'arrÃªt.

<!-- livebook:{"break_markdown":true} -->

### `STOPPLACE` (Lieu d'arrÃªt)

ğŸ“Œ C'est un emplacement comprenant un ou plusieurs endroits oÃ¹ des vÃ©hicules peuvent sâ€™arrÃªter et oÃ¹ les usagers peuvent monter / descendre des vÃ©hicules ou prÃ©parer leur dÃ©placement.

ğŸ“Œ Un Lieu d'arrÃªt peut Ãªtre constituÃ© de Lieux d'arrÃªt.

Exemples de `STOPPLACE` :

* Une station de mÃ©tro comprenant plusieurs quais et entrÃ©es.

* Une gare ferroviaire intÃ©grant plusieurs voies et correspondances avec des bus et tramways.

* Un pÃ´le dâ€™Ã©change multimodal combinant train, tram, bus et parkings relais.

#### `QUAY` (Zone d'embarquement)

Il sâ€™agit dâ€™un lieu tel quâ€™une plateforme, une zone ou un quai qui permet aux voyageurs dâ€™accÃ©der aux vÃ©hicules de transport public, taxis, cars ou tout autre mode de transport.

### `ACCESSSPACE` (Espace de Lieu d'arrÃªt)

Il s'agit d'un composant de Lieu d'arrÃªt accessible aux piÃ©tons mais sans accÃ¨s direct aux vehicules (Hall de gare, Passage, Magasin, Salle d'attente, Restaurant, ...)

### `STOPPLACEENTRANCE` (EntrÃ©e)

Concept qui permet de dÃ©crire les entrÃ©es (point d'accÃ¨s) d'un Lieu d'arrÃªt.

<!-- livebook:{"break_markdown":true} -->

Les Ã©lÃ©ments composants un lieu d'arrÃªt multimodal sont liÃ©s par les relations suivantes.

**Ã€ NOTER** : Les relations entre objets se font via des balises XML contenant des identifiants (...Ref)

<!-- livebook:{"break_markdown":true} -->

![](files/Capture.JPG)

<!-- livebook:{"break_markdown":true} -->

Ces concepts permettent une reprÃ©sentation de Lieux (trÃ¨s) complexes.

<!-- livebook:{"break_markdown":true} -->

![](files/lacOMPLEXE.JPG)

<!-- livebook:{"break_markdown":true} -->

![](files/RepLA.JPG)

## 2.4. Pour en savoir un peu plus...

> **Cette section n'est pas abordÃ©e en sÃ©ance. Elle est destinÃ©e Ã  ceux qui souhaitent a posteriori en savoir un peu plus.**

Nous allons ici briÃ¨vement dÃ©crire les principes de modelisation d'un lieu d'arrÃªt tels que dÃ©finis dans Transmodel et mis en forme pour l'Ã©change d'information au travers de fichier NeTEx.

<!-- livebook:{"break_markdown":true} -->

Dans le domaine des systÃ¨mes dâ€™information pour le transport public, la modÃ©lisation des `STOP PLACE` (lieux dâ€™arrÃªt) est un enjeu clÃ© pour assurer une reprÃ©sentation cohÃ©rente et interopÃ©rable des infrastructures dâ€™arrÃªt. Transmodel, le modÃ¨le de rÃ©fÃ©rence europÃ©en pour les donnÃ©es de transport, dÃ©finit une structure hiÃ©rarchique et relationnelle permettant de reprÃ©senter fidÃ¨lement ces Ã©lÃ©ments Ã  diffÃ©rentes Ã©chelles.

Un `STOP PLACE` nâ€™est pas seulement un point dâ€™arrÃªt unique, mais peut Ãªtre un regroupement dâ€™arrÃªts physiques, incluant plusieurs modes de transport et divers Ã©quipements dâ€™infrastructure. La modÃ©lisation repose sur des principes de rÃ©cursivitÃ©, de relations spatiales et dâ€™agrÃ©gation hiÃ©rarchique, facilitant lâ€™organisation des donnÃ©es et leur Ã©change entre systÃ¨mes.

Les concepts fondamentaux des `STOP PLACE` dans Transmodel, sont prÃ©sentÃ©s ci-aprÃ¨s sur la base de leur structuration, des relations entre entitÃ©s et des principes avancÃ©s de modÃ©lisation.

ğŸ”¹ğŸ”¹ Structure et HiÃ©rarchie des `STOP PLACE`

Dans Transmodel, la modÃ©lisation des `STOP PLACE` sâ€™appuie sur une hiÃ©rarchie en plusieurs niveaux, permettant de structurer les infrastructures dâ€™arrÃªt selon leur complexitÃ© et leur organisation spatiale. Cette hiÃ©rarchie se compose principalement des Ã©lÃ©ments suivants :

* **`STOP PLACE`** (Lieu dâ€™arrÃªt principal)

Le `STOP PLACE` est lâ€™entitÃ© centrale du modÃ¨le. Il reprÃ©sente un site dâ€™arrÃªt pouvant inclure plusieurs infrastructures dâ€™arrÃªt individuelles. Un `STOP PLACE` peut Ãªtre une simple station de bus, une gare ferroviaire ou une grande station multimodale combinant plusieurs types de transport (mÃ©tro, tramway, bus, train).

ğŸ”¹ğŸ”¹ La RÃ©cursivitÃ© dans la ModÃ©lisation des `STOP PLACE`

Un des concepts essentiels de la modÃ©lisation des `STOP PLACE`dans Transmodel est la rÃ©cursivitÃ©.

Cela signifie quâ€™un `STOP PLACE`peut contenir dâ€™autres `STOP PLACE`, formant ainsi une structure imbriquÃ©e adaptÃ©e aux infrastructures complexes.

* **DÃ©finition de la rÃ©cursivitÃ© dans Transmodel**

La rÃ©cursivitÃ© permet dâ€™exprimer des relations hiÃ©rarchiques oÃ¹ un `STOP PLACE` peut Ãªtre composÃ© dâ€™autres `STOP PLACE`, qui eux-mÃªmes contiennent des `STOP PLACE`.

Exemple concret de rÃ©cursivitÃ© :

ğŸ“Œ Un aÃ©roport international (`STOP PLACE`) peut contenir plusieurs terminaux (Stop Places imbriquÃ©s).

ğŸ“Œ Chaque terminal peut avoir plusieurs halls dâ€™embarquement (`STOP PLACE COMPONENT`).

ğŸ“Œ Chaque hall contient plusieurs portes de dÃ©part (`STOP PLACE COMPONENT`).

Cette structuration permet une reprÃ©sentation modulaire et extensible des infrastructures de transport, facilitant la gestion des donnÃ©es et leur exploitation par des systÃ¨mes dâ€™information.

* **Relations entre les niveaux hiÃ©rarchiques**

La rÃ©cursivitÃ© sâ€™accompagne de relations spatiales et fonctionnelles entre les diffÃ©rents niveaux de la hiÃ©rarchie.

Quelques relations courantes dans Transmodel

ğŸ“Œ Contenu/Contenant : un `STOP PLACE COMPONENT` peut contenir plusieurs `STOP PLACE COMPONENT` secondaires.

ğŸ“Œ ProximitÃ© : deux `STOP PLACE` distincts peuvent Ãªtre reliÃ©s sâ€™ils sont situÃ©s Ã  courte distance (ex. une gare et une station de bus adjacente).

ğŸ“Œ Connexion : un `STOP PLACE` peut Ãªtre reliÃ© Ã  un autre via des infrastructures de liaison (passages souterrains, passerelles, escaliers).

ğŸ”¹ğŸ”¹ Autres Concepts ClÃ©s

En complÃ©ment de la rÃ©cursivitÃ©, plusieurs autres principes sont fondamentaux dans la modÃ©lisation des `STOP PLACE` :

* **AccessibilitÃ© et Ã©quipements**

La prise en compte des Ã©quipements et de lâ€™accessibilitÃ© est essentielle dans la structuration des Stop Places :

ğŸ“Œ PrÃ©sence de rampes, ascenseurs, escaliers mÃ©caniques.

ğŸ“Œ Indication des zones accessibles aux personnes Ã  mobilitÃ© rÃ©duite.

ğŸ“Œ PrÃ©sence de signalÃ©tique, guichets dâ€™information, bornes de validation.

* **Correspondances et IntermodalitÃ©**

Un `STOP PLACE` peut Ãªtre reliÃ© Ã  dâ€™autres infrastructures de transport pour permettre des correspondances optimisÃ©es. Ces connexions peuvent Ãªtre modÃ©lisÃ©es par :

ğŸ“Œ ArrÃªts adjacents (ex. arrÃªt de bus devant une gare ferroviaire).

ğŸ“Œ Passages piÃ©tons, tunnels, escaliers reliant diffÃ©rentes zones dâ€™un Stop Place.

ğŸ“Œ Horaires de correspondance coordonnÃ©s pour minimiser le temps dâ€™attente.

* **Typologie des arrÃªts**

Les arrÃªts peuvent Ãªtre diffÃ©renciÃ©s en :

ğŸ“Œ ArrÃªts physiques : lieux rÃ©els oÃ¹ les passagers montent/descendent.

ğŸ“Œ ArrÃªts virtuels : utilisÃ©s pour la planification et les itinÃ©raires sans correspondance Ã  un lieu physique unique.

ğŸ”¹ğŸ”¹ Atouts de la modÃ©lisation NeTEx pour les lieux d'arrÃªt

La modÃ©lisation des `STOP PLACE` dans Transmodel repose sur une hiÃ©rarchisation rigoureuse, une structuration rÃ©cursive, et une modÃ©lisation relationnelle des arrÃªts. GrÃ¢ce Ã  ces principes, les systÃ¨mes dâ€™information de transport peuvent :

ğŸ“Œ Structurer prÃ©cisÃ©ment les donnÃ©es des arrÃªts.

ğŸ“Œ Faciliter lâ€™interopÃ©rabilitÃ© entre rÃ©seaux multimodaux.

ğŸ“Œ Optimiser la gestion des correspondances et de lâ€™accessibilitÃ©.

Cette approche permet une gestion avancÃ©e des infrastructures de transport, essentielle pour les opÃ©rateurs et les autoritÃ©s organisatrices.

> ğŸ’¡ **NOTE : L'analyse et les algorithmes de regroupement des lieux d'arrÃªt restent de la responsabilitÃ© des systÃ¨mes en interface, NeTEx n'etant que le vÃ©hicule transportant l'information.**
> 
> ğŸ”¹ğŸ”¹ **Les modes de transport et leur organisation Transmodel / NeTex**

<!-- livebook:{"break_markdown":true} -->

![](files/ModesTransport.JPG)

## III. PRÃ‰SENTATION DU CAS D'USAGE : ASTUCE ROUEN

Cette section va nous permettre d'analyser une modelisation d'un lieu d'arrÃªt multimodal en partant du constat : Sa description dans son environnement rÃ©el et via sa reprÃ©sentation cartographique analyser sa reprÃ©sentation via les Ã©changes NeTEx.

## 3.1. Etape 1 - Vue RÃ©elle

### PrÃ©sentation du ThÃ©Ã¢tre des Arts et des ArrÃªts

SituÃ© en plein centre-ville de Rouen, le **ThÃ©Ã¢tre des Arts** est desservi par plusieurs modes de transport :

* ğŸšŒ **Bus traditionnel**
* ğŸš **Bus Ã  Haut Niveau de Service (BHNS)**
* ğŸš‹ **Tramway**

Ce thÃ©Ã¢tre se trouve Ã  proximitÃ© d'une **gare routiÃ¨re**, offrant ainsi une accessibilitÃ© renforcÃ©e.

Il est important de noter que certains arrÃªts proches portent le nom **"ThÃ©Ã¢tre des Arts"**, tandis que d'autres possÃ¨dent des appellations diffÃ©rentes, comme **"Gare RoutiÃ¨re"**.

<!-- livebook:{"break_markdown":true} -->

![](files/Toutmodes.JPG)

<!-- livebook:{"break_markdown":true} -->

La gare routiÃ¨re Ã  proximitÃ©

<!-- livebook:{"break_markdown":true} -->

![](files/GareRoutiere.JPG)

<!-- livebook:{"break_markdown":true} -->

### Objectifs de cette prÃ©sentation

Dans un premier temps, nous verrons que la reprÃ©sentation d'un **lieu d'arrÃªt** peut Ãªtre trÃ¨s simple, comme c'est le cas dans le **fichier ASTUCE**.

Ensuite, Ã  travers des exercices pratiques, nous explorerons des moyens d'amÃ©liorer cette description pour **mieux reflÃ©ter la rÃ©alitÃ©** et ainsi **optimiser l'information Ã  destination des usagers**.

<!-- livebook:{"break_markdown":true} -->

Les sites de rÃ©fÃ©rence :

* https://rouen.fr/transports-en-commun
* https://www.myastuce.fr

<!-- livebook:{"break_markdown":true} -->

L'agglomeration Rouanaise :

* Plusieurs Communes

* Un rÃ©seau

* Un OpÃ©rateur

* Une AOT

<!-- livebook:{"break_markdown":true} -->

![](files/Agglo.JPG)

## 3.2. Vue cartographique

Une reprÃ©sentation de la zone gÃ©ographique autour du ThÃ©Ã¢tre des Arts est disponible sur le site du transporteur.

Y sont reprÃ©sentÃ©s :

* Les arrÃªts de transport public localisÃ©s autour du ThÃ©Ã¢tre.

  * De l'opÃ©rateur
  * Du fournisseur du fond cartographique

* Des points d'intÃ©rÃªt ( Agence Astuce, station de chargement electrique)

* Pour chaque point d'arrÃªt : le mode associÃ© via le picto (FerrÃ© vs Bus)

<!-- livebook:{"break_markdown":true} -->

![](files/TdA2.JPG)

<!-- livebook:{"break_markdown":true} -->

Les synoptiques de lignes du transporteur offrent une autre vison du (des) lieu(x) d'arrÃªt multimodal.

<!-- livebook:{"break_markdown":true} -->

![](files/TdA1.JPG)

## ğŸ’¡ ğŸ’¡ Question

Quelles sont les principales caractÃ©riques de ce lieu d'arrÃªt ?

## => RÃ©ponse

Proposition de rÃ©ponse non exhaustive

* **Multimodal** : Tram, BHNS, Bus

* **Pas d'unicitÃ© gÃ©ographiqe**  : les arrÃªts ThÃ©Ã¢tre des Arts sont plus Ã©loignÃ©s du thÃ©Ã¢tre que d'autres ayant des noms diffÃ©rents (exemple : gare routiÃ¨re)

* ...

## 3.3. ModÃ©lisation PAN NeTEx

### Fichiers disponibles

<!-- livebook:{"break_markdown":true} -->

Pour accÃ©der aux fichiers utilisÃ©s pendant cette session, rÃ©alisez les opÃ©rations suivantes :

1. ***TÃ©lÃ©charger le fichier sur le PAN***

https://transport.data.gouv.fr/datasets/base-de-donnees-multimodale-des-reseaux-de-transport-public-normands (AgrÃ©gat de rÃ©seaux urbains et interurbains de Normandie)

Cela vous amÃ¨ne sur la page suivante :

<!-- livebook:{"break_markdown":true} -->

![](files/ChargementFichier1.JPG)

<!-- livebook:{"break_markdown":true} -->

Y tÃ©lÃ©charger le fichier NeTEx (en bas Ã  droite")

<!-- livebook:{"break_markdown":true} -->

1. ***Rechercher & tÃ©lÃ©charger l'offre ASTUCE***

Ce fichier agglomÃ¨re toute l'offre transport public Normandie sous forme de .zip.

<!-- livebook:{"break_markdown":true} -->

![](files/ChargementFichier2.JPG)

<!-- livebook:{"break_markdown":true} -->

> Dans notre contexte nous allons regarder l'offre de l'agglomÃ©ration Rouanaise dÃ©crite dans le .zip
> 
> * **PT_TH_OFFER_TCAR_netex_20250325_669_OPENDATA.zip**
> 
>   =>  <span style="color: rebeccapurple;">**TELECHARGER & OUVRIR CE FICHIER**</span>

<!-- livebook:{"break_markdown":true} -->

> NOTE : **TCAR** = Transports en Commun AgglomÃ©ration de Rouen

Ce dossier contient

* 1 fichier : Arrets.xml (Arret / Quai)

* 1 fichier Calendrier.xml

* 1 Fichier : Reseaux.xml (Network, Line, GroupOfLines, Operator, Authority, SiteConnection)

* N fichiers Lines (ServiceJourney)

Dans la suite de la session nous allons Ãªtre amenÃ©s Ã  utiliser les fichiers **Arrets**, **Reseaux** et **Lines**.

<!-- livebook:{"break_markdown":true} -->

![](files/ChargementFichier3.JPG)

<!-- livebook:{"break_markdown":true} -->

### Principes de ModÃ©lisation

<!-- livebook:{"break_markdown":true} -->

**La reprÃ©sentation faite d'un arrÃªt en NeTEx dÃ©pend du choix des organisations en charge de la modÃ©lisation.**

* Plusieurs reprÃ©sentations d'un mÃªme lieu d'arrÃªt sont possible de la plus simple Ã  la plus complexe.

* Cela ne prÃ©juge pas de la capacitÃ© de Transmodel & NeTEx Ã  prendre en charge une modÃ©lisation plus complÃ¨te et prÃ©cise.

<!-- livebook:{"break_markdown":true} -->

### Fichier ArrÃªt

<!-- livebook:{"break_markdown":true} -->

> =>  <span style="color: rebeccapurple;">**TELECHARGER & OUVRIR LE FICHIER ARRETS.XML**</span>

Le fichier Arret dÃ©crit les `Stop Place`et les `Quay`. Ã€ partir d'un extrait de ce fichier nous pouvons lire les donnÃ©es qui dÃ©finissent un arrÃªt et un Quai.

Le nombre d'Ã©lÃ©ments dÃ©crits dans ce fichier est le suivant :

<!-- livebook:{"break_markdown":true} -->

`````XML
<PublicationDelivery ...>
  ...
    <members>
      <StopPlace/> (x2261) 
      <Quay /> (x2252)

    </members>
  ...
</PublicationDelivery>
````
`````

<!-- livebook:{"break_markdown":true} -->

Regardons les Ã©lÃ©ments de dÃ©finition d'un lieu d'arrÃªt.

````elixir
xml_1=Kino.Markdown.new("""
```xml
<!-- GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
                  <StopPlace id="FR:76157:StopPlace:AUTOPT202405271601341344:ATOUMOD000" version="1">
                     <Name>Chemin de la Corniche</Name>
                     <PrivateCode>FR:76157:LMO:AUTOPT202405271601341344:ATOUMOD000</PrivateCode>
                     <Centroid id="ATOUMOD000:Centroid:a66e3fa7a1534b4c8eb9347a58a16383:LOC" version="any">
                        <Location id="ATOUMOD000:Location:941919f530f74dbe8c2430897e2f0918:LOC">
                           <Longitude>1.0413157</Longitude>
                           <Latitude>49.444458</Latitude>
                        </Location>
                     </Centroid>
                     <placeTypes>
                        <TypeOfPlaceRef ref="multimodalStopPlace"/>
                     </placeTypes>
                     <PostalAddress id="ATOUMOD000:PostalAddress:2ee1e0dd47a64f4a82a37c053a3dc1d4:LOC" version="any">
                        <Town>Canteleu</Town>
                        <PostalRegion>76157</PostalRegion>
                     </PostalAddress>
                     <TransportMode>tram</TransportMode>
                     <StopPlaceType>onstreetTram</StopPlaceType>
                  </StopPlace>
-->
                  <StopPlace id="FR:76410:LMO:AUTOPT202405271601341800:ATOUMOD000" version="1">
                     <Name>HÃ´tel de Ville de Maromme</Name>
                     <PrivateCode>FR:76410:LMO:AUTOPT202405271601341800:ATOUMOD000</PrivateCode>
                     <Centroid id="ATOUMOD000:Centroid:bb6c30565fd1489c99d3a1a3f6120c1c:LOC" version="any">
                        <Location id="ATOUMOD000:Location:3cba9cc58dda433e98164ec3fe69d147:LOC">
                           <Longitude>1.0401848</Longitude>
                           <Latitude>49.4820606</Latitude>
                           <gml:pos srsName="EPSG:2154">557942.286531513 6933172.42178157</gml:pos>
                        </Location>
                     </Centroid>
                     <placeTypes>
                        <TypeOfPlaceRef ref="monomodalStopPlace"/>
                     </placeTypes>
                     <PostalAddress id="ATOUMOD000:PostalAddress:eedee9c06e0d43dd9e7dfe2504b81dee:LOC" version="any">
                        <Town>Maromme</Town>
                        <PostalRegion>76410</PostalRegion>
                     </PostalAddress>
                     <TransportMode>bus</TransportMode>
                     <StopPlaceType>onstreetBus</StopPlaceType>
                     <quays>
                        <QuayRef ref="FR:76410:ZE:11107:ATOUMOD001" versionRef="1"/>
                     </quays>
                  </StopPlace>

```
""")
xml_2=Kino.Markdown.new("""
```xml
<!-- <?xml version="1.0" encoding="UTF-8"?>

   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
                  
                  <StopPlace id="FR:76575:LMO:AUTOPT202405271601342882:ATOUMOD000" version="1">
                     <Name>Ernest Renan</Name>
                     <PrivateCode>FR:76575:LMO:AUTOPT202405271601342882:ATOUMOD000</PrivateCode>
                     <Centroid id="ATOUMOD000:Centroid:53e35d0c6ca6413c9a935c60c96aa83a:LOC" version="any">
                        <Location id="ATOUMOD000:Location:08f7e9955e234a1581eea5969c4931ba:LOC">
                           <Longitude>1.0731568</Longitude>
                           <Latitude>49.3983285</Latitude>
                           <gml:pos srsName="EPSG:2154">560104.485616109 6923800.38240824</gml:pos>
                        </Location>
                     </Centroid>
                     <placeTypes>
                        <TypeOfPlaceRef ref="monomodalStopPlace"/>
                     </placeTypes>
                     <PostalAddress id="ATOUMOD000:PostalAddress:0d39d6c7340e4bf080f4294ca6e688ae:LOC" version="any">
                        <Town>Saint-Ã‰tienne-du-Rouvray</Town>
                        <PostalRegion>76575</PostalRegion>
                     </PostalAddress>
                     <TransportMode>metro</TransportMode>
                     <StopPlaceType>metroStation</StopPlaceType>
                     <quays>
                        <QuayRef ref="FR:76575:ZE:11399:ATOUMOD001" versionRef="1"/>
                     </quays>
                  </StopPlace>
-->
                  <Quay id="FR:76410:ZE:11107:ATOUMOD001" version="1" dataSourceRef="ATOUMOD000:Authority:001:LOC">
                     <Name>HÃ´tel de Ville de Maromme</Name>
                     <PrivateCode>11107</PrivateCode>
                     <Centroid id="ATOUMOD001:Centroid:dc989ebe13ba4bf1926385eba8d1bfae:LOC" version="any">
                        <Location id="ATOUMOD001:Location:476e70bcbcf540c688f77c2d86831709:LOC">
                           <Longitude>1.0401848</Longitude>
                           <Latitude>49.4820606</Latitude>
                           <gml:pos srsName="EPSG:2154">557942.286531513 6933172.42178157</gml:pos>
                        </Location>
                     </Centroid>
                     <PostalAddress id="ATOUMOD001:PostalAddress:1166444555ca42378c6be6341462a84c:LOC" version="any">
                        <Town>Maromme</Town>
                        <PostalRegion>76410</PostalRegion>
                     </PostalAddress>
                    <!--          
                    <AccessibilityAssessment id="ATOUMOD001:AccessibilityAssessment:cf6d5d6fb0d9459ab8be58467828b3c7:LOC" version="any">
                        <MobilityImpairedAccess>true</MobilityImpairedAccess>
                        <suitabilities>
                           <Suitability id="ATOUMOD001:Suitability:11107x1:LOC" version="any">
                              <MobilityNeed>wheelchair</MobilityNeed>
                              <Suitable>suitable</Suitable>
                           </Suitability>
                        </suitabilities>
                     </AccessibilityAssessment>
                     -->
                     <SiteRef ref="FR:76410:LMO:AUTOPT202405271601341800:ATOUMOD000" versionRef="1"/>
                     <TransportMode>bus</TransportMode>
                  </Quay>
                  <!--
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->

```
""")
Kino.Layout.tabs([
  ArrÃªts: xml_1,
Quai: xml_2])
````

### Fichier RÃ©seau

<!-- livebook:{"break_markdown":true} -->

> =>  <span style="color: rebeccapurple;">**TELECHARGER & OUVRIR LE FICHIER RESEAUX.XML**</span>

La structure de ce fichier vous a Ã©tÃ© prÃ©sentÃ©e ce matin, on y retrouve les donnÃ©es suivantes :

* le rÃ©seau `Network`;
* les lignes `line` du rÃ©seau;
* les groupes de lignes `GroupOfLines`
* l'opÃ©rateur `Operator`
* l'autoritÃ© organisatrice `Authority`
* les liaisons intersite `SiteConnection`

Le nombre d'Ã©lÃ©ments dÃ©crits dans ce fichier est le suivant :

<!-- livebook:{"break_markdown":true} -->

`````XML
<PublicationDelivery ...>
  ...
    <members>
      <Network/> (x1) 
      <Line/> (x100)
      <GroupOfLines/> (x1)
      <Operator/> (x1)
      <Authority/> (x1)
      <SiteConnection/> (x7963)

    </members>
  ...
</PublicationDelivery>
````
`````

<!-- livebook:{"break_markdown":true} -->

Les donnÃ©es de dÃ©finition de ces Ã©lÃ©ments sont remontÃ©es dans le tableau suivant.

````elixir
xml_1=Kino.Markdown.new("""
```xml
<!--  <GeneralFrame id="FR:GeneralFrame:NETEX_RESEAU-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_RESEAU"/>
              <members> -->
                  <Network id="ATOUMOD001:Network:001:LOC" version="1">
                     <Name>Astuce (MÃ©tropole Rouen Normandie)</Name>
                     <PrivateCode>2</PrivateCode>
                     <members>
                <LineRef ref="ATOUMOD001:Line:10:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:100:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:101:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:102:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:103:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:104:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:106:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:11:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:13:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:14:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:15:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:20:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:201:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:202:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:203:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:204:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:205:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:206:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:207:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:208:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:210:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:211:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:212:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:213:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:214:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:22:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:220:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:221:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:222:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:224:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:225:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:227:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:228:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:229:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:26:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:27:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:28:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:300:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:301:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:302:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:303:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:305:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:310:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:311:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:313:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:314:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:315:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:322:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:33:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:330:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:331:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:332:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:333:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:334:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:335:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:336:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:340:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:341:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:342:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:343:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:35:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:350:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:351:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:36:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:360:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:361:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:363:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:364:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:37:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:38:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:41:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:42:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:43:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:44:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:529:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:530:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:501:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:502:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:509:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:99:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:506:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:507:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:505:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:01:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:02:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:03:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:04:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:05:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:06:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:07:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:08:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:09:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:508:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:510:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:90:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:98:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:91:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:92:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:93:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:94:LOC" versionRef="1"/>
                     </members>
                     <AuthorityRef ref="ATOUMOD000:Authority:001:LOC" versionRef="any"/>
                  </Network>
<!--
                  <Line id="ATOUMOD001:Line:98:LOC" version="1">
                     <Name>La PlÃ©iade &lt;&gt; Cateliers</Name>
                     <ShortName>La PlÃ©iade &lt;&gt; Cateliers</ShortName>
                     <TransportMode>bus</TransportMode>
                     <PublicCode>Noctambus</PublicCode>
                     <PrivateCode>98</PrivateCode>
                     <OperatorRef ref="ATOUMOD001:Operator:TCAR:LOC" versionRef="1"/>
                     <Presentation>
                        <Colour>29235C</Colour>
                        <TextColour>ffde00</TextColour>
                     </Presentation>
                  </Line>

               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery
-->
```
""")
xml_2=Kino.Markdown.new("""
```xml
<!--  <GeneralFrame id="FR:GeneralFrame:NETEX_RESEAU-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_RESEAU"/>
                <members>
                  <Network id="ATOUMOD001:Network:001:LOC" version="1">
                     <Name>Astuce (MÃ©tropole Rouen Normandie)</Name>
                     <PrivateCode>2</PrivateCode>
                     <members>
                <LineRef ref="ATOUMOD001:Line:10:LOC" versionRef="1"/>
                ...
								<LineRef ref="ATOUMOD001:Line:100:LOC" versionRef="1"/>
				
								<LineRef ref="ATOUMOD001:Line:93:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:94:LOC" versionRef="1"/>
                     </members>
                     <AuthorityRef ref="ATOUMOD000:Authority:001:LOC" versionRef="any"/>
                  </Network>c

                 <Line id="ATOUMOD001:Line:90:LOC" version="1">
							<Name>Boulingrin &lt;&gt; Georges Braque / TechnopÃ´le</Name>
							<ShortName>Boulingrin &lt;&gt; Georges Braque / TechnopÃ´le</ShortName>
							<TransportMode>metro</TransportMode>
							<PublicCode>MÃ©tro</PublicCode>
							<PrivateCode>90</PrivateCode>
							<OperatorRef ref="ATOUMOD001:Operator:TCAR:LOC" versionRef="1"/>
							<Presentation>
								<Colour>123E8B</Colour>
								<TextColour>ffffff</TextColour>
							</Presentation>
						</Line>
						... -->
						<Line id="ATOUMOD001:Line:91:LOC" version="1">
							<Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle</Name>
							<ShortName>Mont aux Malades &lt;&gt; CHU Charles Nicolle</ShortName>
							<TransportMode>tram</TransportMode>
							<PublicCode>T1</PublicCode>
							<PrivateCode>91</PrivateCode>
							<OperatorRef ref="ATOUMOD001:Operator:TCAR:LOC" versionRef="1"/>
							<Presentation>
								<Colour>E63027</Colour>
								<TextColour>ffffff</TextColour>
							</Presentation>
						</Line>
				<!--	<Line id="ATOUMOD001:Line:92:LOC" version="1">
							<Name>Mairie - V. Schoelcher &lt;&gt; Tamarelle</Name>
							<ShortName>Mairie - V. Schoelcher &lt;&gt; Tamarelle</ShortName>
							<TransportMode>tram</TransportMode>
							<PublicCode>T2</PublicCode>
							<PrivateCode>92</PrivateCode>
							<OperatorRef ref="ATOUMOD001:Operator:TCAR:LOC" versionRef="1"/>
							<Presentation>
								<Colour>008F5B</Colour>
								<TextColour>ffffff</TextColour>
							</Presentation>
						</Line>
						<Line id="ATOUMOD001:Line:93:LOC" version="1">
							<Name>Monet &lt;&gt; DurÃ©cu-Lavoisier</Name>
							<ShortName>Monet &lt;&gt; DurÃ©cu-Lavoisier</ShortName>
							<TransportMode>tram</TransportMode>
							<PublicCode>T3</PublicCode>
							<PrivateCode>93</PrivateCode>
							<OperatorRef ref="ATOUMOD001:Operator:TCAR:LOC" versionRef="1"/>
							<Presentation>
								<Colour>6D1C74</Colour>
								<TextColour>ffffff</TextColour>
							</Presentation>
						</Line>
				
                  ...
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery
-->
```
""")
xml_3=Kino.Markdown.new("""
```xml
<!--  <GeneralFrame id="FR:GeneralFrame:NETEX_RESEAU-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_RESEAU"/>
                <members>
-->
              <GroupOfLines id="ATOUMOD001:GroupOfLine:2:LOC" version="1">
							<Name>Astuce</Name>
							<members>
								<LineRef ref="ATOUMOD001:Line:10:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:100:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:101:LOC" versionRef="1"/>
  
                <LineRef ref="ATOUMOD001:Line:102:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:103:LOC" versionRef="1"/>
		<!--				<LineRef ref="ATOUMOD001:Line:104:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:106:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:11:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:13:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:14:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:15:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:20:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:201:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:202:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:203:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:204:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:205:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:206:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:207:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:208:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:210:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:211:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:212:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:213:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:214:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:22:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:220:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:221:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:222:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:224:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:225:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:227:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:228:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:229:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:26:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:27:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:28:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:300:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:301:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:302:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:303:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:305:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:310:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:311:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:313:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:314:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:315:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:322:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:33:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:330:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:331:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:332:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:333:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:334:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:335:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:336:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:340:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:341:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:342:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:343:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:35:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:350:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:351:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:36:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:360:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:361:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:363:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:364:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:37:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:38:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:41:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:42:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:43:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:44:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:529:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:530:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:501:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:502:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:509:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:99:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:506:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:507:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:505:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:01:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:02:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:03:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:04:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:05:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:06:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:07:LOC" versionRef="1"/>
-->
								<LineRef ref="ATOUMOD001:Line:08:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:09:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:508:LOC" versionRef="1"/>
                <LineRef ref="ATOUMOD001:Line:510:LOC" versionRef="1"/> 
								<LineRef ref="ATOUMOD001:Line:90:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:98:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:91:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:92:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:93:LOC" versionRef="1"/>
								<LineRef ref="ATOUMOD001:Line:94:LOC" versionRef="1"/>
							</members>
						</GroupOfLines>		
<!--                  ...
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery
-->
```
""")
xml_4=Kino.Markdown.new("""
```xml
<!--  <GeneralFrame id="FR:GeneralFrame:NETEX_RESEAU-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_RESEAU"/>
                <members>
-->
             	<Operator id="ATOUMOD001:Operator:TCAR:LOC" version="1">
							<PrivateCode>TCAR</PrivateCode>
							<Name>Astuce</Name>
							<OrganisationType>operator</OrganisationType>
						</Operator>

						<Authority id="ATOUMOD000:Authority:001:LOC" version="any">
							<PrivateCode>TCAR</PrivateCode>
							<CompanyNumber>001</CompanyNumber>
							<Name>Astuce (MÃ©tropole Rouen Normandie)</Name>
							<ContactDetails>
								<Phone>02 35 52 52 52</Phone>
								<Url>https://reseau-astuce.fr/</Url>
							</ContactDetails>
							<OrganisationType>authority</OrganisationType>
						</Authority>

<!--                  ...
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery
-->
```
""")
xml_5=Kino.Markdown.new("""
```xml
<!--  <GeneralFrame id="FR:GeneralFrame:NETEX_RESEAU-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_RESEAU"/>
                <members>
-->
          <SiteConnection id="ATOUMOD001:SiteConnection:da01173165034e23b807c944dcc71f6e:LOC" version="1">
							<Name>FR:76108:ZE:10022:ATOUMOD001 A FR:76108:ZE:10021:ATOUMOD001</Name>
							<Distance>29</Distance>
							<BothWays>true</BothWays>
							<From>
								<TransportMode>bus</TransportMode>
								<StopPlaceRef ref="FR:76108:LMO:AUTOPT202405271601343682:ATOUMOD000" versionRef="1"/>
								<QuayRef ref="FR:76108:ZE:10022:ATOUMOD001" versionRef="1"/>
							</From>
							<To>
								<TransportMode>bus</TransportMode>
								<StopPlaceRef ref="FR:76108:LMO:AUTOPT202405271601343680:ATOUMOD000" versionRef="1"/>
								<QuayRef ref="FR:76108:ZE:10021:ATOUMOD001" versionRef="1"/>
							</To>
						</SiteConnection>
						<SiteConnection id="ATOUMOD001:SiteConnection:345e9912a9254025ab624c19d0269264:LOC" version="1">
							<Name>FR:76108:ZE:10028:ATOUMOD001 A FR:76108:ZE:10027:ATOUMOD001</Name>
							<Distance>36</Distance>
							<BothWays>true</BothWays>
							<From>
								<TransportMode>bus</TransportMode>
								<StopPlaceRef ref="FR:76108:LMO:AUTOPT202405271601341192:ATOUMOD000" versionRef="1"/>
								<QuayRef ref="FR:76108:ZE:10028:ATOUMOD001" versionRef="1"/>
							</From>
							<To>
								<TransportMode>bus</TransportMode>
								<StopPlaceRef ref="FR:76108:LMO:AUTOPT202405271601341190:ATOUMOD000" versionRef="1"/>
								<QuayRef ref="FR:76108:ZE:10027:ATOUMOD001" versionRef="1"/>
							</To>
						</SiteConnection>

<!--                  ...
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery
-->
```
""")
Kino.Layout.tabs([
 RÃ©seau: xml_1,
Ligne: xml_2,
GroupeDeLignes: xml_3,
Organisations: xml_4,
CorrespondanceIntersite: xml_5])
````

### Fichier Ligne

<!-- livebook:{"break_markdown":true} -->

> =>  <span style="color: rebeccapurple;">**TELECHARGER & OUVRIR LE FICHIER Ligne_ATOUMOD001_91.XML**</span>

La structure de ce fichier vous a Ã©tÃ© prÃ©sentÃ©e ce matin, on y retrouve les donnÃ©es suivantes :

Ce fichier dÃ©crit chaque ligne identifiÃ©e dans le fichier 'RÃ©seaux' en termes de :

* ItinÃ©raires `Route`
* Sens `Direction`
* Parcours commercial `ServiceJourneyPattern`
* Affichage de destination `DestinationDisplay`
* Point d'arrÃªt topologique `ScheduleStopPoint`
* Affectation de Point d'arrÃªt `PassengerStopAssignement`
* TronÃ§on d'itineraire `RouteLink`

Le nombre d'Ã©lÃ©ments dÃ©crits dans ce fichier est identifiÃ© ci-dessous.

Ã€ noter la prÃ©sence de 2 `FRAMES` dans le fichier :

* Une regroupe la description topologique de la ligne,

* Une regroupe la description des horaires thÃ©oriques de la ligne.

<!-- livebook:{"break_markdown":true} -->

`````XML
<PublicationDelivery ...>
  ...
  <GeneralFrame>
    <members>
      <!-- Description de la Ligne -->
      <Route/> (x2) 
      <Direction/> (x2)
      <ServiceJourneyPattern/> (x2)
      <DestinationDisplay/> (x2)
      <ScheduleStopPoint/> (x30)
      <PassengerStopAssignment/> (x30)
      <RouteLink/> (x28)
    </members>
  </GeneralFrame>
  
   <GeneralFrame>
     <members>
       <! Description des horaires -->
       <ServiceJouney/> (x1501)
    </members>
     </GeneralFrame>
  ...
</PublicationDelivery>
````
`````

<!-- livebook:{"break_markdown":true} -->

La section suivante prÃ©sente le contenu du fichier NeTEx pour ses diffÃ©rents membres.

````elixir
xml_1=Kino.Markdown.new("""
```xml
<!-- DESCRIPTION DES ITINERAIRES DE LA LIGNE -->
<!-- <?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery>
   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
-->
                    <Route id="ATOUMOD001:Route:91xA:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Aller</Name>
                     <LineRef ref="ATOUMOD001:Line:91:LOC" versionRef="1"/>
                     <DirectionType>outbound</DirectionType>
                     <DirectionRef ref="ATOUMOD001:Direction:91xA:LOC" versionRef="1"/>
                     <InverseRouteRef ref="ATOUMOD001:Route:91xR:LOC" versionRef="1"/>
                  </Route>
<!--
                  <Direction id="ATOUMOD001:Direction:91xA:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Aller</Name>
                     <DirectionType>outbound</DirectionType>
                  </Direction>

                  <Route id="ATOUMOD001:Route:91xR:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Retour</Name>
                     <LineRef ref="ATOUMOD001:Line:91:LOC" versionRef="1"/>
                     <DirectionType>inbound</DirectionType>
                     <DirectionRef ref="ATOUMOD001:Direction:91xR:LOC" versionRef="1"/>
                     <InverseRouteRef ref="ATOUMOD001:Route:91xA:LOC" versionRef="1"/>
                  </Route>        
               
                
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->


```
""")
xml_2=Kino.Markdown.new("""
```xml
<!-- DESCRIPTION DES SENS DES ITINERAIRES -->
<!-- <?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery>
   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
                     <Route id="ATOUMOD001:Route:91xA:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Aller</Name>
                     <LineRef ref="ATOUMOD001:Line:91:LOC" versionRef="1"/>
                     <DirectionType>outbound</DirectionType>
                     <DirectionRef ref="ATOUMOD001:Direction:91xA:LOC" versionRef="1"/>
                     <InverseRouteRef ref="ATOUMOD001:Route:91xR:LOC" versionRef="1"/>
                  </Route>
-->
                  <Direction id="ATOUMOD001:Direction:91xA:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Aller</Name>
                     <DirectionType>outbound</DirectionType>
                  </Direction>
<!--
                  <Route id="ATOUMOD001:Route:91xR:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Retour</Name>
                     <LineRef ref="ATOUMOD001:Line:91:LOC" versionRef="1"/>
                     <DirectionType>inbound</DirectionType>
                     <DirectionRef ref="ATOUMOD001:Direction:91xR:LOC" versionRef="1"/>
                     <InverseRouteRef ref="ATOUMOD001:Route:91xA:LOC" versionRef="1"/>
                  </Route>
-->
                  <Direction id="ATOUMOD001:Direction:91xR:LOC" version="1">
                     <Name>Mont aux Malades &lt;&gt; CHU Charles Nicolle - Retour</Name>
                     <DirectionType>inbound</DirectionType>
                  </Direction>            
               
  <--              
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->
```
""")
xml_3=Kino.Markdown.new("""
```xml
<!-- DESCRIPTION DES PARCOURS COMMERCIAUX SUR UN ITINERAIRE -->
<!-- <?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery>
   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
-->
           <ServiceJourneyPattern id="ATOUMOD001:ServiceJourneyPattern:164:LOC" version="1">
                     <Name>CHU Charles Nicolle ROUEN</Name>
                     <PrivateCode>164</PrivateCode>
                     <RouteRef ref="ATOUMOD001:Route:91xA:LOC" versionRef="1"/>
                     <DestinationDisplayRef ref="ATOUMOD001:DestinationDisplay:164:LOC" versionRef="1"/>
                     <pointsInSequence>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x1:LOC" version="any" order="1">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:11132:LOC" versionRef="1"/>
                           <ForAlighting>false</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
<!--
                         ...
                          <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x2:LOC" version="any" order="2">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10420:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x3:LOC" version="any" order="3">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10276:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x4:LOC" version="any" order="4">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10246:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x5:LOC" version="any" order="5">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10623:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x6:LOC" version="any" order="6">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:11424:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x7:LOC" version="any" order="7">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:13147:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x8:LOC" version="any" order="8">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:13041:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        <StopPointInJourneyPattern id="ATOUMOD001:StopPointInJourneyPattern:164x9:LOC" version="any" order="9">
                           <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10134:LOC" versionRef="1"/>
                           <ForAlighting>true</ForAlighting>
                           <ForBoarding>true</ForBoarding>
                           <RequestStop>false</RequestStop>
                        </StopPointInJourneyPattern>
                        ...
-->
                     </pointsInSequence>
                     <ServiceJourneyPatternType>passenger</ServiceJourneyPatternType>
                  </ServiceJourneyPattern/>
<!--
                  <ServiceJourneyPattern id="ATOUMOD001:ServiceJourneyPattern:325:LOC" version="1"/>
                  ...       
               
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->
```
""")
xml_4=Kino.Markdown.new("""
```xml
<!-- DESCRIPTION DES AFFICHAGES DE DESTINATION DE LA LIGNE -->
<!-- <?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery>
   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
-->              
                    <DestinationDisplay id="ATOUMOD001:DestinationDisplay:164:LOC" version="1">
                     <FrontText>CHU Charles Nicolle</FrontText>
                  </DestinationDisplay>

                  <DestinationDisplay id="ATOUMOD001:DestinationDisplay:325:LOC" version="1">
                     <FrontText>Mont aux Malades</FrontText>
                  </DestinationDisplay>
          <!      
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->
```
""")
xml_5=Kino.Markdown.new("""
```xml
<!-- DESCRIPTION DES POINTS D'ARRET LOGIQUE DE LA LIGNE -->
<!-- <?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery>
   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
                ...
-->
                 <ScheduledStopPoint id="ATOUMOD001:ScheduledStopPoint:11132:LOC" version="1">
                     <Name>Mont aux Malades</Name>
                     <Location id="ATOUMOD001:Location:b6c79ef9dea349888e222f8cf6f546c9:LOC">
                        <Longitude>1.0722056</Longitude>
                        <Latitude>49.4651343</Latitude>
                        <gml:pos srsName="EPSG:2154">560216.883575832 6931232.56581007</gml:pos>
                     </Location>
                  </ScheduledStopPoint>
<!--
                  <ScheduledStopPoint id="ATOUMOD001:ScheduledStopPoint:10420:LOC" version="1">
                     <Name>Les Coquets</Name>
                     <Location id="ATOUMOD001:Location:37a35c9e5f964db1979b299a3839ae22:LOC">
                        <Longitude>1.0766144</Longitude>
                        <Latitude>49.4624135</Latitude>
                        <gml:pos srsName="EPSG:2154">560529.126435356 6930922.13720351</gml:pos>
                     </Location>
                  </ScheduledStopPoint>
                  <ScheduledStopPoint id="ATOUMOD001:ScheduledStopPoint:10276:LOC" version="1">
                     <Name>Place Colbert</Name>
                     <Location id="ATOUMOD001:Location:c3a31ef9994d44caa51501aedfeb9b0d:LOC">
                        <Longitude>1.0710986</Longitude>
                        <Latitude>49.4614035</Latitude>
                        <gml:pos srsName="EPSG:2154">560126.492664532 6930819.55245077</gml:pos>
                     </Location>
                  </ScheduledStopPoint> 
-->
                
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->
```
""")
xml_6=Kino.Markdown.new("""
```xml
<!-- DESCRIPTION DES AFFECTATIONS lOGIQUE <-> PHYSIQUE DE LA LIGNE -->
<!-- <?xml version="1.0" encoding="UTF-8"?>
<PublicationDelivery>
   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
               ...
-->
                  <PassengerStopAssignment id="ATOUMOD001:PassengerStopAssignment:11132:LOC" version="1" order="0">
                     <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:11132:LOC" versionRef="1"/>
                     <StopPlaceRef ref="FR:76451:LMO:AUTOPT202405271601342612:ATOUMOD000" versionRef="1"/>
                     <QuayRef ref="FR:76451:ZE:11132:ATOUMOD001" versionRef="1"/>
                  </PassengerStopAssignment>
                  <PassengerStopAssignment id="ATOUMOD001:PassengerStopAssignment:10420:LOC" version="1" order="0">
                     <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10420:LOC" versionRef="1"/>
                     <StopPlaceRef ref="FR:76451:LMO:AUTOPT202405271601341230:ATOUMOD000" versionRef="1"/>
                     <QuayRef ref="FR:76451:ZE:10420:ATOUMOD001" versionRef="1"/>
                  </PassengerStopAssignment>
<!--
                  <PassengerStopAssignment id="ATOUMOD001:PassengerStopAssignment:10276:LOC" version="1" order="0">
                     <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10276:LOC" versionRef="1"/>
                     <StopPlaceRef ref="FR:76451:LMO:AUTOPT202405271601341118:ATOUMOD000" versionRef="1"/>
                     <QuayRef ref="FR:76451:ZE:10276:ATOUMOD001" versionRef="1"/>
                  </PassengerStopAssignment>
                  <PassengerStopAssignment id="ATOUMOD001:PassengerStopAssignment:10246:LOC" version="1" order="0">
                     <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10246:LOC" versionRef="1"/>
                     <StopPlaceRef ref="FR:76451:LMO:AUTOPT202405271601344374:ATOUMOD000" versionRef="1"/>
                     <QuayRef ref="FR:76451:ZE:10246:ATOUMOD001" versionRef="1"/>
                  </PassengerStopAssignment>
                  <PassengerStopAssignment id="ATOUMOD001:PassengerStopAssignment:10623:LOC" version="1" order="0">
                     <ScheduledStopPointRef ref="ATOUMOD001:ScheduledStopPoint:10623:LOC" versionRef="1"/>
                     <StopPlaceRef ref="FR:76540:LMO:AUTOPT202405271601341948:ATOUMOD000" versionRef="1"/>
                     <QuayRef ref="FR:76540:ZE:10623:ATOUMOD001" versionRef="1"/>
                  </PassengerStopAssignment>
                  ...
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->
```
""")
Kino.Layout.tabs([
  ItinÃ©raires: xml_1,
Direction: xml_2,
ParcoursCommercial: xml_3,
Destination: xml_4,
PointArretLogique: xml_5,
Affectation: xml_6])
````

## 3.4. ModÃ©lisation du "ThÃ©Ã¢tre des Arts"

**Objectif de cette partie** : nous allons nous mettre Ã  la place du SI d'information voyageur et ainsi dÃ©cortiquer les informations contenues dans le fichier NeTEx pour construire le lieu d'arrÃªt.

<span style="background-color: grey; color: white;">
**A partir du fichier Arrets.xml**
</span>

<!-- livebook:{"break_markdown":true} -->

***LÃ©gendes*** :

<!-- livebook:{"break_markdown":true} -->

![](files/Legende.JPG)

<!-- livebook:{"break_markdown":true} -->

### Ã‰tape 1 : identifier & extraire les Ã©lÃ©ments de nom "ThÃ©Ã¢tre des Arts".

<!-- livebook:{"break_markdown":true} -->

Si l'on recherche des `Stop Place` et des `Quay` de nom "ThÃ©Ã¢tre des Arts" nous trouvons 16 Ã©lÃ©ments.

* En vrac :

<!-- livebook:{"break_markdown":true} -->

![](files/AvecTrous.JPG)

## ğŸ’¡ ğŸ’¡ Question

Ã€ partir du fichier "Arret.xml complÃ©ter les 2 informations manquantes.

## => RÃ©ponse

![](files/Reponse.JPG)

## 3.4.2 Ã‰tape 2 - Organiser en utilisant les liens

Sur la base des identifiants prÃ©sents dans les Ã©lÃ©ments ayant pour nom "ThÃ©Ã¢tre des Arts", les relations suivantes peuvent Ãªtre Ã©tablies.

<!-- livebook:{"break_markdown":true} -->

![](files/GrpLienManquant.JPG)

## ğŸ’¡ ğŸ’¡ Question

ComplÃ©ter les liens manquants.

## ==> RÃ©ponse

![](files/GrpLien2.JPG)

## 3.4.3 Ã‰tape 3 - Regroupement Modal

Nous allons regrouper les Ã©lÃ©ments selon les informations "modales" qu'ils portent.

<!-- livebook:{"break_markdown":true} -->

![](files/GrpMode.JPG)

## 3.4.4 Analyse modÃ©lisation NeTEx "ThÃ©Ã¢tre des Arts

## ğŸ’¡ ğŸ’¡ Question

Quels commentaires vous inspire cette modÃ©lisation ?

## => RÃ©ponse

**Analyse des regroupements** non exhaustive :

* Regroupement basic : 1 Lieu d'arrÃªt => 1 Zone d'embarquement.
* Pas de hiÃ©rarchisation
* Pas de regroupement modal / Multimodal
* Quid MÃ©tro vs Tram ??

## 3.5 Cas pratique d'amÃ©lioration ThÃ©Ã¢tre des Arts

> **NOTE** : Ce cas pratique ne prÃ©juge pas des donnÃ©es mises Ã  disposition du PAN. L'objectif ici est d'utiliser ces donnÃ©es pour illustrer les possibilitÃ©s offertes par TRANSMODEL / NeTEx.

**RAPPEL**

<!-- livebook:{"break_markdown":true} -->

![](files/OrgaLAProfilNeTEx.JPG)

<!-- livebook:{"break_markdown":true} -->

### La reprÃ©sentation existante

Sur la base de nos principes de reprÃ©sentation, issus du **profil NeTEx France**, si l'on s'intÃ©resse au lieu "ThÃ©Ã¢tre des Arts", l'offre proposÃ©e par la construction NeTEx est la suivante :

* Un Lieu d'arrÃªt = Un Quai,

* Pas de regroupement

<!-- livebook:{"break_markdown":true} -->

![](files/Existant.JPG)

<!-- livebook:{"break_markdown":true} -->

### AmÃ©lioration 1 : Lieu d'arrÃªt Multi Quais

<!-- livebook:{"break_markdown":true} -->

Une premiÃ¨re possibilitÃ© d'amÃ©lioration consisterait Ã  rattacher plusieurs Zones d'embarquement `QUAY` Ã  un mÃªme Lieu d'arrÃªt `STOPPLACE`.

<!-- livebook:{"break_markdown":true} -->

![](files/LA_MultiQuais.JPG)

<!-- livebook:{"break_markdown":true} -->

Pour cela l'impact sur la description XML consisterait Ã  modifier les liens entre les diffÃ©rents Ã©lÃ©ments et supprimer un lieu d'arrÃªt devenu inutile.

Comparons le fichier actuel et les modifications qu'ils conviendrait d'effectuer pour implÃ©menter cette amÃ©lioration.

````elixir
xml_1=Kino.Markdown.new("""
```xml
<!-- <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
                  <StopPlace id="FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000" version="1">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000</PrivateCode>
                     <Centroid id="ATOUMOD000:Centroid:4922681049774ba4bede9f39c9bc0809:LOC" version="any">
                        <Location id="ATOUMOD000:Location:6d464e4448a64c80a6a1a0b9a1d781d2:LOC">
                           <Longitude>1.0891443</Longitude>
                           <Latitude>49.4403002</Latitude>
                           <gml:pos srsName="EPSG:2154">561377.998406113 6928440.45331435</gml:pos>
                        </Location>
                     </Centroid>
                     <placeTypes>
                        <TypeOfPlaceRef ref="monomodalStopPlace"/>
                     </placeTypes>
                     <PostalAddress id="ATOUMOD000:PostalAddress:1bd2ac32ad414d5097fdad4c76000ed5:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <TransportMode>tram</TransportMode>
                     <StopPlaceType>onstreetTram</StopPlaceType>
                     <quays>
-->
                        <QuayRef ref="FR:76540:ZE:11598:ATOUMOD001" versionRef="1"/>
<!--      
                  </quays>
                  </StopPlace>
                  <StopPlace id="FR:76540:LMO:AUTOPT202405271601343890:ATOUMOD000" version="1">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>FR:76540:LMO:AUTOPT202405271601343890:ATOUMOD000</PrivateCode>
                     <Centroid id="ATOUMOD000:Centroid:4048e5545f084ca4ac3570b5090d6e60:LOC" version="any">
                        <Location id="ATOUMOD000:Location:d7e866f39a9542c68d30003a9c20effe:LOC">
                           <Longitude>1.0891554</Longitude>
                           <Latitude>49.4404081</Latitude>
                           <gml:pos srsName="EPSG:2154">561379.093975609 6928452.43521626</gml:pos>
                        </Location>
                     </Centroid>
                     <placeTypes>
                        <TypeOfPlaceRef ref="monomodalStopPlace"/>
                     </placeTypes>
                     <PostalAddress id="ATOUMOD000:PostalAddress:e0df228bea80433496fb5d497a21d840:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <TransportMode>tram</TransportMode>
                     <StopPlaceType>onstreetTram</StopPlaceType>
                     <quays>
-->
                        <QuayRef ref="FR:76540:ZE:11599:ATOUMOD001" versionRef="1"/>
<!--  
                  </quays>
                  </StopPlace>
                  <Quay id="FR:76540:ZE:11599:ATOUMOD001" version="1" dataSourceRef="ATOUMOD000:Authority:001:LOC">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>11599</PrivateCode>
                     <Centroid id="ATOUMOD001:Centroid:72872749eedc477b92622f589f1e38fd:LOC" version="any">
                        <Location id="ATOUMOD001:Location:cab75551075548758b5ba6fb1d92b2dd:LOC">
                           <Longitude>1.0891554</Longitude>
                           <Latitude>49.4404081</Latitude>
                           <gml:pos srsName="EPSG:2154">561379.093975609 6928452.43521626</gml:pos>
                        </Location>
                     </Centroid>
                     <PostalAddress id="ATOUMOD001:PostalAddress:b8889d6b69a6433f9fb2968c75f161d4:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <AccessibilityAssessment id="ATOUMOD001:AccessibilityAssessment:65cf25400935471faf5e899f9a33e61b:LOC" version="any">
                        <MobilityImpairedAccess>true</MobilityImpairedAccess>
                        <suitabilities>
                           <Suitability id="ATOUMOD001:Suitability:11599x1:LOC" version="any">
                              <MobilityNeed>wheelchair</MobilityNeed>
                              <Suitable>suitable</Suitable>
                           </Suitability>
                        </suitabilities>
                     </AccessibilityAssessment>
-->
                     <SiteRef ref="FR:76540:LMO:AUTOPT202405271601343890:ATOUMOD000" versionRef="1"/>
                    
<!--
                  <TransportMode>tram</TransportMode>
                  </Quay>
<Quay id="FR:76540:ZE:11598:ATOUMOD001" version="1" dataSourceRef="ATOUMOD000:Authority:001:LOC">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>11598</PrivateCode>
                     <Centroid id="ATOUMOD001:Centroid:43dd2b6eb6914a10ac1a1d188ffc3e6d:LOC" version="any">
                        <Location id="ATOUMOD001:Location:82727c5757224d5c8c155aa2c96436c7:LOC">
                           <Longitude>1.0891443</Longitude>
                           <Latitude>49.4403002</Latitude>
                           <gml:pos srsName="EPSG:2154">561377.998406113 6928440.45331435</gml:pos>
                        </Location>
                     </Centroid>
                     <PostalAddress id="ATOUMOD001:PostalAddress:416e5efc65f245d6886b025035b6f493:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <AccessibilityAssessment id="ATOUMOD001:AccessibilityAssessment:10168f54f66940eeb931fa8ca39e43a6:LOC" version="any">
                        <MobilityImpairedAccess>true</MobilityImpairedAccess>
                        <suitabilities>
                           <Suitability id="ATOUMOD001:Suitability:11598x1:LOC" version="any">
                              <MobilityNeed>wheelchair</MobilityNeed>
                              <Suitable>suitable</Suitable>
                           </Suitability>
                        </suitabilities>
                     </AccessibilityAssessment>
-->
                     <SiteRef ref="FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000" versionRef="1"/>
                   
<!-- <TransportMode>tram</TransportMode>
                  </Quay>
                </members>
            </GeneralFrame>
-->
```
""")
xml_2=Kino.Markdown.new("""
```xml
<!-- <?xml version="1.0" encoding="UTF-8"?>

   <dataObjects>
      <CompositeFrame id="FR:CompositeFrame:NETEX_FRANCE-20241120T051542:LOC" version="1.0">

         <frames>
              <GeneralFrame id="FR:GeneralFrame:NETEX_ARRET-20241120T051542:LOC" version="1.0" dataSourceRef="TCAR">
               <TypeOfFrameRef ref="FR:TypeOfFrame:NETEX_ARRET"/>
               <members>
                  
                 <StopPlace id="FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000" version="1">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000</PrivateCode>
                     <Centroid id="ATOUMOD000:Centroid:4922681049774ba4bede9f39c9bc0809:LOC" version="any">
                        <Location id="ATOUMOD000:Location:6d464e4448a64c80a6a1a0b9a1d781d2:LOC">
                           <Longitude>1.0891443</Longitude>
                           <Latitude>49.4403002</Latitude>
                           <gml:pos srsName="EPSG:2154">561377.998406113 6928440.45331435</gml:pos>
                        </Location>
                     </Centroid>
                     <placeTypes>
                        <TypeOfPlaceRef ref="monomodalStopPlace"/>
                     </placeTypes>
                     <PostalAddress id="ATOUMOD000:PostalAddress:1bd2ac32ad414d5097fdad4c76000ed5:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <TransportMode>tram</TransportMode>
                     <StopPlaceType>onstreetTram</StopPlaceType>
                     <quays>
                        <QuayRef ref="FR:76540:ZE:11598:ATOUMOD001" versionRef="1"/>
-->
                        <QuayRef ref= "FR:76540:ZE:11599:ATOUMOD001" versionRef="1"/>   
<!--
                      </quays>
                  </StopPlace>
                  <Quay id="FR:76540:ZE:11599:ATOUMOD001" version="1" dataSourceRef="ATOUMOD000:Authority:001:LOC">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>11599</PrivateCode>
                     <Centroid id="ATOUMOD001:Centroid:72872749eedc477b92622f589f1e38fd:LOC" version="any">
                        <Location id="ATOUMOD001:Location:cab75551075548758b5ba6fb1d92b2dd:LOC">
                           <Longitude>1.0891554</Longitude>
                           <Latitude>49.4404081</Latitude>
                           <gml:pos srsName="EPSG:2154">561379.093975609 6928452.43521626</gml:pos>
                        </Location>
                     </Centroid>
                     <PostalAddress id="ATOUMOD001:PostalAddress:b8889d6b69a6433f9fb2968c75f161d4:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <AccessibilityAssessment id="ATOUMOD001:AccessibilityAssessment:65cf25400935471faf5e899f9a33e61b:LOC" version="any">
                        <MobilityImpairedAccess>true</MobilityImpairedAccess>
                        <suitabilities>
                           <Suitability id="ATOUMOD001:Suitability:11599x1:LOC" version="any">
                              <MobilityNeed>wheelchair</MobilityNeed>
                              <Suitable>suitable</Suitable>
                           </Suitability>
                        </suitabilities>
                     </AccessibilityAssessment>
-->
                     <SiteRef ref="FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000"" versionRef="1"/>
<!--
                  <TransportMode>tram</TransportMode>
                  </Quay>
                  <Quay id="FR:76540:ZE:11598:ATOUMOD001" version="1" dataSourceRef="ATOUMOD000:Authority:001:LOC">
                     <Name>ThÃ©Ã¢tre des Arts</Name>
                     <PrivateCode>11598</PrivateCode>
                     <Centroid id="ATOUMOD001:Centroid:43dd2b6eb6914a10ac1a1d188ffc3e6d:LOC" version="any">
                        <Location id="ATOUMOD001:Location:82727c5757224d5c8c155aa2c96436c7:LOC">
                           <Longitude>1.0891443</Longitude>
                           <Latitude>49.4403002</Latitude>
                           <gml:pos srsName="EPSG:2154">561377.998406113 6928440.45331435</gml:pos>
                        </Location>
                     </Centroid>
                     <PostalAddress id="ATOUMOD001:PostalAddress:416e5efc65f245d6886b025035b6f493:LOC" version="any">
                        <Town>Rouen</Town>
                        <PostalRegion>76540</PostalRegion>
                     </PostalAddress>
                     <AccessibilityAssessment id="ATOUMOD001:AccessibilityAssessment:10168f54f66940eeb931fa8ca39e43a6:LOC" version="any">
                        <MobilityImpairedAccess>true</MobilityImpairedAccess>
                        <suitabilities>
                           <Suitability id="ATOUMOD001:Suitability:11598x1:LOC" version="any">
                              <MobilityNeed>wheelchair</MobilityNeed>
                              <Suitable>suitable</Suitable>
                           </Suitability>
                        </suitabilities>
                     </AccessibilityAssessment>

                     <SiteRef ref="FR:76540:LMO:AUTOPT202405271601343888:ATOUMOD000" versionRef="1"/>
                    
    <TransportMode>tram</TransportMode>
                  </Quay>
                  <!--
               </members>
            </GeneralFrame>
         </frames>
      </CompositeFrame>
   </dataObjects>
</PublicationDelivery>
-->

```
""")
Kino.Layout.tabs([
  Actuel: xml_1,
MultiQuais: xml_2])
````

### AmÃ©lioration 2 : Regroupement Monomodaux

Ce regroupement est une alternative si l'on ne prend pas en compte la proximitÃ© gÃ©ographique.
Sinon cette optimisation n'est pas forcÃ©ment pertinente.

<!-- livebook:{"break_markdown":true} -->

![](files/LA_MonomodalBus.JPG)

<!-- livebook:{"break_markdown":true} -->

### AmÃ©lioration 3 : Lieu d'arrÃªt Multimodal

Il s'agit de crÃ©er un nouveau STOP PLACE de Type Multimodal.

La hiÃ©rarchisation est implÃ©mentÃ©e :

1- En ajoutant l'attribut **'ParentSiteRef'** Ã  tous les lieux d'arrÃªt monomodaux rattachÃ©s contenant l'identifiant du Lieu d'arrÃªt Multimodal.

2- Le type de ce lieu d'arrÃªt est : **'multimodalStopPlace'**.

3- Son mode de transport est celui du plus haut niveau (cf. Partie ArrÃªts du profil France de NeTEx). Dans notre cas il s'agira du mode **'MÃ©tro'**.

> **INFORMATION** : Hierarchisation des modes de transport (Partie ArrÃªts du profil France de NeTEx)
> 
> 1. AÃ©rien
> 2. Maritime/Fluvial
> 3. FerrÃ©
> 4. MÃ©tro
> 5. Tram
> 6. Funiculaire/CÃ¢ble
> 7. Bus/Car/Trolley

<!-- livebook:{"break_markdown":true} -->

![](files/Alt_LA_MultiModal.JPG)

<!-- livebook:{"break_markdown":true} -->

### AmÃ©lioration 4 :  Ajout d'un pÃ´le Monomaodal

**Objectif** : intÃ©grer la gare routiÃ¨re localisÃ©e Ã  proximitÃ© du 'ThÃ©Ã¢tre des Arts' dans le lieu d'arrÃªt multimodal. La gare routiÃ¨re ayant un nom diffÃ©rent de 'ThÃ©Ã¢tre des Arts', la notion de **Pole monomodal** est Ã  utilliser.

Pour y parvenir (cf. Partie ArrÃªts du profil France de NeTEx):

1- CrÃ©er un nouveau Lieu d'arrÃªt (le pole monomodal)

* Ce lieu est de type 'MonomodalStopHub', de Mode 'Bus' et de Nom 'ThÃ©Ã¢tre des Arts'.

* 'ParentSiteRef' contient l'identifiant du Lieu d'arrÃªt Multimodal.

2- IntÃ©grer la gare routiÃ¨re :

* CrÃ©er  (Si non existant) un nouveau Lieu d'arrÃªt Monomodal avec les diffÃ©rentes zones d'embarquement.

* Si nÃ©cessaire les zones d'embarquement peuvent Ãªtre imbriquÃ©es pour modÃ©liser les platesformes avec 2 quais.

* 'ParentSiteRef' contient l'identifiant du PÃ´le Monomodal.

3- Modifier le ParentSiteRef du / des Lieux d'arrÃªt monomodaux bus existant avec l'identifiant un PÃ´le Monomodal crÃ©Ã© en (1)

<!-- livebook:{"break_markdown":true} -->

![](files/MultiModal_PoleMono.JPG)

## IV. AUTRE EXEMPLE : RTM Castellane

Cette section illustre les possibilitÃ©s offertes par NeTEx pour reprÃ©senter des lieux d'arrÃªt multimodaux structurÃ©s selon les rÃ©commandations de la partie ArrÃªts du profil France de NeTEx.

Les informations prÃ©sentÃ©es sont construites Ã  partir de donnÃ©es recueillies via des Ã©changes NeTEx et une Base de DonnÃ©es normalisÃ©e Transmodel.

## ğŸ”¹Le Lieu d'arrÃªt dans la vraie vie

La RÃ©gie des Transports MÃ©tropolitains (RTM) exploite un rÃ©seau de transports en commun dans la mÃ©tropole Aix-Marseille-Provence, comprenant :

* **MÃ©tro** : rÃ©seau de mÃ©tro de Marseille compte deux lignes

* **Tramway** : Le rÃ©seau de tramway comprend trois lignes principales.

* **Bus** : Le rÃ©seau de bus de la RTM est constituÃ© de 104 lignes, desservant l'ensemble de la mÃ©tropole.

* **Services maritimes** : La RTM propose des services maritimes, notamment des navettes reliant le Vieux-Port Ã  des destinations comme la Pointe Rouge et l'Estaque.

<!-- livebook:{"break_markdown":true} -->

![](files/MRS1.JPG)

<!-- livebook:{"break_markdown":true} -->

La Castelanne est un lieu central oÃ¹ se situe un ensemble d'arrÃªts de diffÃ©rents modes.

<!-- livebook:{"break_markdown":true} -->

![](files/MRS2.JPG)

## ğŸ”¹ Une reprÃ©sentation Transmodel / NeTEx

Transmodel et NeTEx permettent une reprÃ©sentation hiÃ©rarchique et organisÃ©e des Lieux d'arrÃªt complexes.

**Transmodel** & **NeTex** offrent une vision organisÃ©e et reprÃ©sentative de la rÃ©alitÃ© du lieu d'arrÃªt.

Un couplage avec **SIRI** (via des identifiants partagÃ©s) permet d'offrir des services puissants en termes de supervision (Ã©tat des Ã©quipements, accessibilitÃ©, cheminement, ...)

Le rÃ©sultat de cette reprÃ©sentation et son organisation hiÃ©rarchique mise Ã  disposition des exploitants de la RTM est le suivant :

<!-- livebook:{"break_markdown":true} -->

### Le Lieux d'arrÃªt Multitimodal

<!-- livebook:{"break_markdown":true} -->

Un lieu d'arrÃªt multimodal Bus, MÃ©tro et Tram.

Un Point d'intÃ©rÃªt lui est rattachÃ©.

<!-- livebook:{"break_markdown":true} -->

![](files/RTM1.JPG)

<!-- livebook:{"break_markdown":true} -->

### Le lieu d'arrÃªt Monomodal Metro

<!-- livebook:{"break_markdown":true} -->

Le Lieu d'arrÃªt monomodal contient un lieu d'arrÃªt, des espaces et un accÃ¨s.

<!-- livebook:{"break_markdown":true} -->

![](files/RTMpoleMetro.JPG)

<!-- livebook:{"break_markdown":true} -->

### Le lieu d'arret MÃ©tro (M2)

<!-- livebook:{"break_markdown":true} -->

En descendant dans le lieu d'arrÃªt MÃ©tro Ligne M2 on accÃ¨de Ã  :

* Un accÃ¨s au Quai
* Une mezzanine avec des informations d'accessibilitÃ© et des Ã©quipements
* 2 quais liÃ©s chacun Ã  un point d'arrÃªt topologique

<!-- livebook:{"break_markdown":true} -->

![](files/RTMmetro.JPG)

<!-- livebook:{"break_markdown":true} -->

### Lien vers la topologie et l'offre de transport

<!-- livebook:{"break_markdown":true} -->

Comme vu prÃ©cÃ©demment dans cette formation NeTEx dÃ©couple la reprÃ©sentation logique (Topologie, offre de transport, tarif) de la prÃ©sentation Physique que nous venons de voir.

Une passerelle entre les deux descriptions est nativement prÃ©sente dans l'Ã©cosystÃ¨me Transmodel.

Le couplage avec SIRI permet une adaptation simple aux Ã©vÃ¨nements d'exploitation : Cas d'un changement de Quai.

<!-- livebook:{"break_markdown":true} -->

![](files/LienVersTopologieSSP.JPG)

## FIN

Ã€ vous : utilisez les liens de navigations ci-dessous pour passer Ã  la partie suivante ("AccessibilitÃ©") ou revenir Ã  la partie prÃ©cÃ©dente ("Introduction")

<div class="flex items-center w-full flex-start justify-between rounded-xl p-4" style="background-color: #f0f5f9; color: #61758a;">
<div class="flex">
<i class="ri-arrow-left-fill"></i>
<a class="flex ml-2" style="color: #61758a;" href="../3_reseau/reseau_rochefort.livemd">Lignes et Horaires - Rochefort</a>
</div>
<div class="flex">
<i class="ri-home-fill"></i>
<a class="flex ml-2" style="color: #61758a;" href="Stop_place.livemd">Lieux d'arrÃªt - Rouen</a>
</div>
<div class="flex">
<a class="flex mr-2" style="color: #61758a;" href="../5_accessibilite/accessibilite_transport.livemd">AccessibilitÃ© - transport</a>
<i class="ri-arrow-right-fill"></i>
</div>
</div>
